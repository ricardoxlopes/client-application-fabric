{"version":3,"sources":["../src/index.js"],"names":["Element","props","tag","hash","displayName","createReactComponent","strings","args","defaultProps","Component","css","preProcessCSS","addRules","getName","children","stiligita"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEO,IAAMA,4BAAU,SAAVA,OAAU;AAAA,SACrB,0BAAcC,MAAMC,GAApB,eACK,wBAAYD,KAAZ,EAAmB,oCAAWA,KAAX,CAAnB,CADL,sDAEyBA,MAAME,IAF/B,GADqB;AAAA,CAAhB;AAKPH,QAAQI,WAAR,GAAsB,WAAtB;;AAEA,IAAMC,uBAAuB,SAAvBA,oBAAuB,CAACC,OAAD,EAAUC,IAAV,EAAgBL,GAAhB,EAAqBM,YAArB,EAAsC;AACjE,MAAMC,YAAY,SAAZA,SAAY,QAAS;AACzBR,yBAAYO,YAAZ,EAA6BP,KAA7B;AACA,QAAMS,MAAM,YAAOC,aAAP,CAAqB,kCAAkBL,OAAlB,EAA2BC,IAA3B,EAAiCN,KAAjC,CAArB,CAAZ;AACA,QAAME,OAAO,wBAASO,GAAT,CAAb;AACA,iBAAME,QAAN,qBAAiBT,IAAjB,EAAwBO,GAAxB;AACA,WAAO,0BAAcV,OAAd,eAA2BC,KAA3B,IAAkCC,QAAlC,EAAuCC,MAAM,aAAMU,OAAN,CAAcV,IAAd,CAA7C,KAAmEF,MAAMa,QAAzE,CAAP;AACD,GAND;AAOAL,YAAUL,WAAV,eAAkCF,GAAlC;AACA,SAAOO,SAAP;AACD,CAVD;;AAYAJ,qBAAqBU,SAArB;;kBAEeV,oB","file":"index.js","sourcesContent":["import {createElement} from 'react'\nimport {cleanObject} from '@stiligita/utils'\nimport hashCode from '@stiligita/hash-code'\nimport {NAMESPACE, CREATE_COMPONENT} from '@stiligita/constants'\nimport {templateWithProps} from '@stiligita/templates'\nimport {store} from '@stiligita/store'\nimport {render} from '@stiligita/dom'\nimport getInvalid from './get-invalid-attributes'\n\nexport const Element = props =>\n  createElement(props.tag, {\n    ...cleanObject(props, getInvalid(props)),\n    [`data-${NAMESPACE}`]: props.hash\n  })\nElement.displayName = 'Stiligita'\n\nconst createReactComponent = (strings, args, tag, defaultProps) => {\n  const Component = props => {\n    props = {...defaultProps, ...props}\n    const css = render.preProcessCSS(templateWithProps(strings, args, props))\n    const hash = hashCode(css)\n    store.addRules({[hash]: css})\n    return createElement(Element, {...props, tag, hash: store.getName(hash)}, props.children)\n  }\n  Component.displayName = `styled-${tag}`\n  return Component\n}\n\ncreateReactComponent.stiligita = CREATE_COMPONENT\n\nexport default createReactComponent\n"]}